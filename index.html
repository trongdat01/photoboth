<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Photo Booth with Background Selector</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="container">
        <h1>Photo Booth with Frame Background</h1>

        <!-- Camera Section -->
        <div class="camera-section" id="camera-section">
            <h2>Step 1: Take 4 Photos</h2>
            <div class="camera-container">
                <video id="camera" autoplay playsinline></video>
                <canvas id="canvas" style="display: none;"></canvas>
            </div>
            <div class="camera-controls">
                <button id="capture-btn">Take Photo (<span id="photo-count">0</span>/4)</button>
                <button id="restart-btn" style="display: none;">Take New Photos</button>
            </div>
            <div class="photo-preview" id="photo-preview">
                <div class="photo-grid">
                    <div class="photo-cell" id="photo1">
                        <div class="placeholder">1</div>
                    </div>
                    <div class="photo-cell" id="photo2">
                        <div class="placeholder">2</div>
                    </div>
                    <div class="photo-cell" id="photo3">
                        <div class="placeholder">3</div>
                    </div>
                    <div class="photo-cell" id="photo4">
                        <div class="placeholder">4</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Size Selection Section - Only shown after photos are taken -->
        <div class="size-selector" id="size-selector" style="display: none;">
            <h2>Step 2: Choose Background Size</h2>
            <div class="size-inputs">
                <div class="size-input-group">
                    <label for="background-width">Width (px):</label>
                    <input type="number" id="background-width" min="300" max="1200" value="300" step="50">
                </div>
                <div class="size-input-group">
                    <label for="background-height">Height (px):</label>
                    <input type="number" id="background-height" min="300" max="1200" value="800" step="50">
                </div>
            </div>
            <div class="size-presets">
                <button class="preset-btn" data-width="600" data-height="800">Portrait (600×800)</button>
                <button class="preset-btn" data-width="500" data-height="900">Tall Portrait (500×900)</button>
                <button class="preset-btn" data-width="600" data-height="600">Square (600×600)</button>
            </div>
        </div>

        <div class="frame-selector" id="frame-selector" style="display: none;">
            <h2>Step 3: Choose a Background Frame</h2>
            <div class="frame-options">
                <div class="frame-option selected" data-frame="frame1.png">
                    <img src="frame1.png" alt="Frame 1">
                    <span class="frame-label">Frame 1</span>
                </div>
                <div class="frame-option" data-frame="frame2.png">
                    <img src="frame2.png" alt="Frame 2">
                    <span class="frame-label">Frame 2</span>
                </div>
                <div class="frame-option" data-frame="frame3.png">
                    <img src="frame3.png" alt="Frame 3">
                    <span class="frame-label">Frame 3</span>
                </div>
                <div class="frame-option" data-frame="frame4.png">
                    <img src="frame4.png" alt="Frame 4">
                    <span class="frame-label">Frame 4</span>
                </div>
                <div class="frame-option" data-frame="frame5.png">
                    <img src="frame5.png" alt="Frame 5">
                    <span class="frame-label">Frame 5</span>
                </div>
            </div>
        </div>

        <!-- Content Section -->
        <div class="content-section" id="content-section" style="display: none;">
            <h2>Step 4: Add Content</h2>
            <div class="content-options">
                <div class="input-group">
                    <label for="content-text">Text Content:</label>
                    <textarea id="content-text" placeholder="Enter text to display on the background..."></textarea>
                </div>
                <div class="input-group">
                    <label for="text-color">Text Color:</label>
                    <input type="color" id="text-color" value="#ffffff">
                </div>
                <div class="input-group">
                    <label for="text-size">Text Size (px):</label>
                    <input type="number" id="text-size" min="12" max="72" value="24">
                </div>
                <div class="input-group">
                    <label for="content-position">Position:</label>
                    <select id="content-position">
                        <option value="top">Top</option>
                        <option value="middle" selected>Middle</option>
                        <option value="bottom">Bottom</option>
                    </select>
                </div>
                <!-- New spacing control -->
                <div class="input-group spacing-control">
                    <label for="photo-spacing">Photo Spacing (px):</label>
                    <input type="range" id="photo-spacing" min="5" max="50" value="20" step="5">
                    <span id="spacing-value">20</span>px
                </div>
                <!-- New photo area percentage control -->
                <div class="input-group spacing-control">
                    <label for="photo-area-percent">Photos Area (%):</label>
                    <input type="range" id="photo-area-percent" min="50" max="100" value="80" step="5">
                    <span id="area-value">80</span>%
                </div>
                <!-- New photo position control -->
                <div class="input-group">
                    <label for="photo-position">Photos Position:</label>
                    <select id="photo-position">
                        <option value="top">Top</option>
                        <option value="center" selected>Center</option>
                        <option value="bottom">Bottom</option>
                    </select>
                </div>
                <!-- Top margin control - only shown when top position is selected -->
                <div class="input-group spacing-control" id="top-margin-control" style="display: none;">
                    <label for="top-margin">Top Margin (px):</label>
                    <input type="range" id="top-margin" min="10" max="100" value="40" step="5">
                    <span id="top-margin-value">40</span>px
                </div>
                <!-- Bottom margin control - only shown when bottom position is selected -->
                <div class="input-group spacing-control" id="bottom-margin-control" style="display: none;">
                    <label for="bottom-margin">Bottom Margin (px):</label>
                    <input type="range" id="bottom-margin" min="10" max="100" value="40" step="5">
                    <span id="bottom-margin-value">40</span>px
                </div>
            </div>
        </div>

        <div class="preview-section" id="preview-section" style="display: none;">
            <h2>Preview</h2>
            <div class="preview-container">
                <div class="preview" id="preview">
                    <canvas id="preview-canvas"></canvas>
                </div>
            </div>
            <div class="selected-info">
                <p>Selected frame: <span id="selected-frame-name">frame1.png</span></p>
                <p>Dimensions: <span id="dimensions-display">600 × 800 px</span></p>
            </div>
        </div>

        <div class="actions" id="photo-actions" style="display: none;">
            <button id="create-btn">Create Photo Strip</button>
            <button id="download-btn">Download Image</button>
            <button id="restart-photo-btn">Take New Photos</button>
        </div>

        <!-- Final Photo Display -->
        <div id="final-photo" class="final-photo" style="display: none;">
            <h2>Your Photo Strip</h2>
            <div class="final-photo-container">
                <img id="final-image" alt="Final Photo with Frame">
            </div>
            <div class="final-actions">
                <button id="download-final-btn">Download Photo</button>
                <button id="restart-final-btn">Start Over</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>

</html>